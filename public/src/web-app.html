<polymer2>
    <link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">
    <link rel="import" href="../bower_components/polymer/lib/elements/dom-if.html">
    <link rel="import" href="../bower_components/polymer/lib/utils/import-href.html">
    <link rel="import" href="../bower_components/neon-animation/web-animations.html">
    <link rel="import" href="../bower_components/shadycss/apply-shim.html">
    <link rel="import" href="../bower_components/polymer/lib/utils/render-status.html">
    <!-- paper-material deprecated -->
    <link rel="import" href="../bower_components/paper-styles/shadow.html">
</polymer2>  
<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href='./icon-imports.html'>
<link rel="import" href="./ns-entity.html">

<imports >
    <link rel="import" href="../bower_components/paper-spinner/paper-spinner-lite.html" async>
    <link rel="import" href='../bower_components/polymer/polymer-element.html'>
    <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="../bower_components/app-route/app-location.html">
    <link rel="import" href="../bower_components/app-route/app-route.html">
    <link rel="import" href="../bower_components/app-route/app-route-converter.html">
    <link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
    <link rel="import" href="../bower_components/neon-animation/neon-animation-runner-behavior.html">
    <link rel="import" href="../bower_components/neon-animation/neon-animations.html">
    <link rel="import" href="../bower_components/neon-animation/neon-shared-element-animatable-behavior.html">
    <link rel="import" href="../bower_components/local-dom/local-dom.html">
    <link rel="import" href='./icon-imports.html'>
    <link rel="import" href="../bower_components/paper-toast/paper-toast.html">
    <link rel="import" href="./ac-components/animation-behaviors/ripple-to.html">
    <link rel="import" href="./ac-components/page-views/view-layout.html" >
    <link rel="import" href="../bower_components/paper-button/paper-button.html">


</imports>

<dom-module id="web-app">
    <template>
        <style>
            :host{
                --theme-color1: #ffab40 ;
                --theme-color2: #ffab40 ;
                --background-color0:#ffabg40 ; 
                --content-background:white ; 
                --background-color1:#ffab40 ; 
                --card-color:blue ; 
                --title-color:gray ; 
                --content-color2:rgb(70, 69, 69); 
                --content-color:rgb(70, 69, 69) ;
                --paper-icon-color:white;
                --height: 65%;
                --width: 35%;
                --margin-left: 30%;
                --margin-right: 0;
                height:100px;
                width:100%;
            }
            body{
                background-color: var(--background-color0) ;
                font-family: 'Roboto', sans-serif;
            }
            [mobile] [container],
            [tablet] [container] {
                width: 100%;
                height: 100%;
                margin-left: 0;
                margin-right: 0;
                border-radius: 0;
            }
             local-dom {
                height: 100%;
                width: 100%;
            }
            [paper-material][container] {
                height: var(--height);
                width: var(--width);
                margin-left: var(--margin-left);
                margin-right: var(--margin-right);
                background-color: var(--content-background);
                display: block;
                position: relative;
                @apply --shadow-elevation-8dp;
            }
            [entity-list]{
                height:500px;
                width:400px;
            }
            [wrapper]{
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                height: 100%;
                width: 100%;

                display: flex;
                flex-direction: column;
                align-items: center;
            }
            [header]{
                width:450px ;
                margin-left:20px ;
                @apply --layout-center;
                @apply --layout-horizontal;
                @apply --justified-center;
                position: absolute ;
            }
            [select-entity]{
                margin-top:20px ;
                font-size: 20px ;
            }
            paper-button{
                color:gray ; 
                font-weight: 400 ;
            }
            .selected{
                background-color: var(--theme-color1) ;
                color:white ;
            }
            [footer]{
                position:absolute ; 
                bottom:30px ;
                right:30px ;
            }
            [logout]{
                position: absolute ;
                top:20px ; 
                color:gray ;
                height:50px;
                width:50px;
                right:20px ;
            }
            [addEntity] {
                margin-left: -10px;
                margin-top: -20px;
                margin-right: 12px;
                color: white ; 
                background-color:var(--theme-color1) ; 
                height:70px;
                width:70px;
                border-radius: 100%;
            }
            [addEntity]:hover {
                color: gray ; 
            }
        </style>
        <div dialogs>
            <prompt-dialog dialog-title="Regitrar Elemento" id="createDialog" confirm-button="Registrar" cancel-button="cancelar">
                <div content >
                    <edit-card-form 
                        has-values
                        title='test'
                        tags='test1'
                        description='test2'
                        license='test4' > 
                    </edit-card-form>    
                </div>
            </prompt-dialog>
        </div>
        <div wrapper>
            <view-layout position='bottom' height='580px' width='450px'>
                <ns-entity> </ns-entity>
            </view-layout>
            <div header>
                <div select-entity>
                    <paper-button id='studentBtn' class='selected'  on-click='_selectEntity' > Estudiante </paper-button>
                    <paper-button id='teacherBtn' on-click='_selectEntity'  > Docente </paper-button>
                    <paper-button id='courseBtn' on-click='_selectEntity'> Curso </paper-button>
                </div>
            </div>
            <div footer>
                <div >
                    <paper-icon-button on-click='_openCreateDialog' addEntity icon='icons:add'></paper-icon-button>
                </div>
            </div>
            <div logout>
                <paper-icon-button style='height:45px; width:45px;' icon='icons:exit-to-app'>  </paper-icon-button>
            </div>
        </div>
        <script>
            app_elementsPerPage = 10 ; 
            var sleep = n => new Promise(resolve => setTimeout(resolve, n)); 
        </script>
    </template>
    <script>
        class WebApp extends Polymer.Element {
            static get is() { return 'web-app'; }
            static get properties() {return {
                selectedBtn:{type:String,value:'studentBtn'},
            }}
            constructor() {
                super();
            }
            _openCreateDialog() {
                this.$.createDialog.open();
            }
            _selectEntity(e){
                this.shadowRoot.querySelector('#'+this.selectedBtn).classList.remove('selected') ; 
                this.selectedBtn = e.currentTarget.id ; 
                this.shadowRoot.querySelector('#'+this.selectedBtn).classList.add('selected') ; 

            }
        }
        customElements.define('web-app', WebApp);
    </script>
</dom-module>